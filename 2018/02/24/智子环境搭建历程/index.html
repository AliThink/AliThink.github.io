<!DOCTYPE html>
<html lang=zh>
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="智子 - 韩都衣舍机器学习平台代号😋  一、spark流派1.1 hadoop 起初选择使用CDH安装（原因：老环境就用的这个，据说比较稳定），然而在双节点情况下总是出现莫名问题。磕磕绊绊安装好了，实际用起来还是有不少问题（集成环境问题定位好麻烦。。），在尝试几波之后最终选择放弃（期间还麻烦运维妹子重做了系统😂）。想到实际需要的功能并不太多，果断转为人工安装部署。CDH的安装部署过程作为番外">
<meta property="og:type" content="article">
<meta property="og:title" content="智子环境搭建历程">
<meta property="og:url" content="/2018/02/24/智子环境搭建历程/index.html">
<meta property="og:site_name" content="The  Force  Awakens
">
<meta property="og:description" content="智子 - 韩都衣舍机器学习平台代号😋  一、spark流派1.1 hadoop 起初选择使用CDH安装（原因：老环境就用的这个，据说比较稳定），然而在双节点情况下总是出现莫名问题。磕磕绊绊安装好了，实际用起来还是有不少问题（集成环境问题定位好麻烦。。），在尝试几波之后最终选择放弃（期间还麻烦运维妹子重做了系统😂）。想到实际需要的功能并不太多，果断转为人工安装部署。CDH的安装部署过程作为番外">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://of71dfqgz.bkt.clouddn.com/15194416883439.jpg">
<meta property="og:image" content="http://of71dfqgz.bkt.clouddn.com/15180588854980.jpg">
<meta property="og:updated_time" content="2018-11-12T09:14:46.988Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="智子环境搭建历程">
<meta name="twitter:description" content="智子 - 韩都衣舍机器学习平台代号😋  一、spark流派1.1 hadoop 起初选择使用CDH安装（原因：老环境就用的这个，据说比较稳定），然而在双节点情况下总是出现莫名问题。磕磕绊绊安装好了，实际用起来还是有不少问题（集成环境问题定位好麻烦。。），在尝试几波之后最终选择放弃（期间还麻烦运维妹子重做了系统😂）。想到实际需要的功能并不太多，果断转为人工安装部署。CDH的安装部署过程作为番外">
<meta name="twitter:image" content="http://of71dfqgz.bkt.clouddn.com/15194416883439.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/img/favicon.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/img/favicon.png">
          
        
    
    <!-- title -->
    <title>智子环境搭建历程</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Writing</a></li>
         
          <li><a href="/categories">categories</a></li>
         
          <li><a href="https://github.com/AliThink">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/09/21/智子airflow配置指南/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/02/02/兜兜滑板/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=/2018/02/24/智子环境搭建历程/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=/2018/02/24/智子环境搭建历程/&text=智子环境搭建历程"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=/2018/02/24/智子环境搭建历程/&is_video=false&description=智子环境搭建历程"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=智子环境搭建历程&body=Check out this article: /2018/02/24/智子环境搭建历程/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=/2018/02/24/智子环境搭建历程/&name=智子环境搭建历程&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、spark流派"><span class="toc-number">1.</span> <span class="toc-text">一、spark流派</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-hadoop"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 hadoop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择"><span class="toc-number">1.1.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考"><span class="toc-number">1.1.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍"><span class="toc-number">1.1.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-jps发现竟然木有DataNode"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">💩 jps发现竟然木有DataNode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-各种Permission-denied"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">💩 各种Permission denied</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-没有SecondaryNode了"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">💩 没有SecondaryNode了</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-hive"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 hive</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-1"><span class="toc-number">1.2.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-1"><span class="toc-number">1.2.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-启动时各种缺表"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">💩 启动时各种缺表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-如何重启hive-metastore"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">💩 如何重启hive metastore</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-sqoop"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 sqoop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-2"><span class="toc-number">1.3.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-2"><span class="toc-number">1.3.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-发现总是Connection-Failure"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">💩 发现总是Connection Failure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出jackson-databind缺少某某方法"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">💩 报出jackson databind缺少某某方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出hive-version与metastore-version不一致"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">💩 报出hive version与metastore version不一致</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-导入hive报错HIVE-CONF-DIR"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">💩 导入hive报错HIVE_CONF_DIR</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-spark"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 spark</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-3"><span class="toc-number">1.4.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-3"><span class="toc-number">1.4.2.</span> <span class="toc-text">文章参考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-zeppelin"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 zeppelin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-4"><span class="toc-number">1.5.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-4"><span class="toc-number">1.5.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-3"><span class="toc-number">1.5.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出jackson版本问题"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">💩 报出jackson版本问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-无法初始化SessionHiveMetaStoreClient"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">💩 无法初始化SessionHiveMetaStoreClient</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、sklearn流派"><span class="toc-number">2.</span> <span class="toc-text">二、sklearn流派</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-anaconda与jupyter-猪币特"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 anaconda与jupyter(猪币特)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-5"><span class="toc-number">2.1.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-5"><span class="toc-number">2.1.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-4"><span class="toc-number">2.1.3.</span> <span class="toc-text">坑位介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、数据同步策略"><span class="toc-number">3.</span> <span class="toc-text">三、数据同步策略</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-sqoop同步策略"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 sqoop同步策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#具体sqoop同步示例"><span class="toc-number">3.1.1.</span> <span class="toc-text">具体sqoop同步示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果"><span class="toc-number">3.1.2.</span> <span class="toc-text">效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-mysql直接拉取csv"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 mysql直接拉取csv</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#同步示例"><span class="toc-number">3.2.1.</span> <span class="toc-text">同步示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果-1"><span class="toc-number">3.2.2.</span> <span class="toc-text">效果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四、总结"><span class="toc-number">4.</span> <span class="toc-text">四、总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、番外"><span class="toc-number">5.</span> <span class="toc-text">五、番外</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CDH篇"><span class="toc-number">5.1.</span> <span class="toc-text">CDH篇</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope="" itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        智子环境搭建历程
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
        <span itemprop="name">The  Force  Awakens
</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-02-24T14:00:27.000Z" itemprop="datePublished">2018-02-24</time>
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/ML/">ML</a>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <blockquote>
<p>智子 - 韩都衣舍机器学习平台代号😋</p>
</blockquote>
<h1 id="一、spark流派"><a href="#一、spark流派" class="headerlink" title="一、spark流派"></a>一、spark流派</h1><h2 id="1-1-hadoop"><a href="#1-1-hadoop" class="headerlink" title="1.1 hadoop"></a>1.1 hadoop</h2><blockquote>
<p>起初选择使用CDH安装（原因：老环境就用的这个，据说比较稳定），然而在双节点情况下总是出现莫名问题。磕磕绊绊安装好了，实际用起来还是有不少问题（集成环境问题定位好麻烦。。），在尝试几波之后最终选择放弃（期间还麻烦运维妹子重做了系统😂）。想到实际需要的功能并不太多，果断转为人工安装部署。<br>CDH的安装部署过程作为番外放在最后面吧。。。</p>
</blockquote>
<h3 id="版本选择"><a href="#版本选择" class="headerlink" title="版本选择"></a>版本选择</h3><p>虽然没有安装CDH，还是选用了CDH版的hadoop2.6。（据说体质较好，比较稳健）</p>
<h3 id="文章参考"><a href="#文章参考" class="headerlink" title="文章参考"></a>文章参考</h3><p><a href="https://www.jianshu.com/p/1448d1550c8b" target="_blank" rel="noopener">CentOS 7 集群部署 Hadoop 2.7.3</a></p>
<h3 id="坑位介绍"><a href="#坑位介绍" class="headerlink" title="坑位介绍"></a>坑位介绍</h3><blockquote>
<p>主要记录自己部署时遇到的主要问题，详细步骤可以参考上面的文章</p>
</blockquote>
<h4 id="💩-jps发现竟然木有DataNode"><a href="#💩-jps发现竟然木有DataNode" class="headerlink" title="💩 jps发现竟然木有DataNode"></a>💩 jps发现竟然木有DataNode</h4><blockquote>
<p>之前用CDH安装过一遍hadoop导致部分目录有内容残留</p>
</blockquote>
<ul>
<li>查看$HADOOP_HOME/etc/hadoop/hdfs-site.xml<ul>
<li>namenode路径</li>
<li>datanode路径</li>
<li>删除对应目录下的所有文件</li>
</ul>
</li>
<li>重新执行namenode -format</li>
<li>重启hadoop start-all.sh</li>
</ul>
<h4 id="💩-各种Permission-denied"><a href="#💩-各种Permission-denied" class="headerlink" title="💩 各种Permission denied"></a>💩 各种Permission denied</h4><ul>
<li>先查看各路径是否正确赋权给了hadoop用户<ul>
<li>没有的chown -R hadoop:hadoop 对应路径</li>
</ul>
</li>
<li>当前用户是否已经切换成hadoop用户再执行相关启动命令</li>
</ul>
<h4 id="💩-没有SecondaryNode了"><a href="#💩-没有SecondaryNode了" class="headerlink" title="💩 没有SecondaryNode了"></a>💩 没有SecondaryNode了</h4><ul>
<li>配置$HADOOP_HOME/etc/hadoop/hdfs-site.xml<ul>
<li>name: dfs.namenode.secondary.http-address</li>
<li>value: 0.0.0.0:50090</li>
</ul>
</li>
</ul>
<h2 id="1-2-hive"><a href="#1-2-hive" class="headerlink" title="1.2 hive"></a>1.2 hive</h2><h3 id="版本选择-1"><a href="#版本选择-1" class="headerlink" title="版本选择"></a>版本选择</h3><p>目前最新版：apache-hive-2.3.2-bin</p>
<h3 id="文章参考-1"><a href="#文章参考-1" class="headerlink" title="文章参考"></a>文章参考</h3><p><a href="http://blog.csdn.net/u014591781/article/details/52895176" target="_blank" rel="noopener">Hadoop2.6下安装Hive</a></p>
<h3 id="坑位介绍-1"><a href="#坑位介绍-1" class="headerlink" title="坑位介绍"></a>坑位介绍</h3><h4 id="💩-启动时各种缺表"><a href="#💩-启动时各种缺表" class="headerlink" title="💩 启动时各种缺表"></a>💩 启动时各种缺表</h4><ul>
<li>查看$HIVE_HOME/scripts/metastore/upgrade/mysql/hive-schema-2.3.0.mysql.sql</li>
<li>用root用户登录至mysql</li>
<li>创建对应的用户并授权用户（别忘记flush privileges）</li>
<li>然后执行这个初始化sql</li>
</ul>
<h4 id="💩-如何重启hive-metastore"><a href="#💩-如何重启hive-metastore" class="headerlink" title="💩 如何重启hive metastore"></a>💩 如何重启hive metastore</h4><ul>
<li>ps -ef |grep HiveMetaStore</li>
<li>kill -TERM pid</li>
<li>hive –service hiveserver &amp;</li>
</ul>
<h2 id="1-3-sqoop"><a href="#1-3-sqoop" class="headerlink" title="1.3 sqoop"></a>1.3 sqoop</h2><h3 id="版本选择-2"><a href="#版本选择-2" class="headerlink" title="版本选择"></a>版本选择</h3><blockquote>
<p>官网说了诸多sqoop2的好处，最后建议说生产环境不要使用2…</p>
</blockquote>
<p>sqoop1最新版：sqoop-1.4.7.bin__hadoop-2.6.0</p>
<h3 id="文章参考-2"><a href="#文章参考-2" class="headerlink" title="文章参考"></a>文章参考</h3><p><a href="https://www.jianshu.com/p/99301eeedd91" target="_blank" rel="noopener">如何将mysql数据导入Hadoop之Sqoop安装</a></p>
<h3 id="坑位介绍-2"><a href="#坑位介绍-2" class="headerlink" title="坑位介绍"></a>坑位介绍</h3><h4 id="💩-发现总是Connection-Failure"><a href="#💩-发现总是Connection-Failure" class="headerlink" title="💩 发现总是Connection Failure"></a>💩 发现总是Connection Failure</h4><blockquote>
<p>mysql场景</p>
</blockquote>
<ul>
<li>检查hadoop集群每台机器与mysql数据源的连通性<ul>
<li>telnet xx.xx.xx.xx 3306</li>
<li>不同的话，申请开通权限即可</li>
</ul>
</li>
</ul>
<h4 id="💩-报出jackson-databind缺少某某方法"><a href="#💩-报出jackson-databind缺少某某方法" class="headerlink" title="💩 报出jackson databind缺少某某方法"></a>💩 报出jackson databind缺少某某方法</h4><ul>
<li>统一hadoop、hive、sqoop各自lib中jackson的版本</li>
<li>选择三者中的最高版本即可</li>
</ul>
<h4 id="💩-报出hive-version与metastore-version不一致"><a href="#💩-报出hive-version与metastore-version不一致" class="headerlink" title="💩 报出hive version与metastore version不一致"></a>💩 报出hive version与metastore version不一致</h4><ul>
<li>如果报出hive版本低于metastore版本（跟我一样）<ul>
<li>关闭版本检查即可</li>
<li>name: hive.metastore.schema.verification</li>
<li>value: false</li>
</ul>
</li>
<li>如果报出hive版本高于metastore版本：<ul>
<li>将元数据库mysql中的对应hive库删除</li>
<li>用对应版本的script重新初始化元数据表</li>
<li>同样禁用掉版本检查吧。。</li>
</ul>
</li>
</ul>
<h4 id="💩-导入hive报错HIVE-CONF-DIR"><a href="#💩-导入hive报错HIVE-CONF-DIR" class="headerlink" title="💩 导入hive报错HIVE_CONF_DIR"></a>💩 导入hive报错HIVE_CONF_DIR</h4><ul>
<li>.bashrc添加<ul>
<li>export HADOOP_CLASSPATH=$HADOOP_CLASSPATH:$HIVE_HOME/lib/*</li>
</ul>
</li>
<li>source .bashrc</li>
</ul>
<h2 id="1-4-spark"><a href="#1-4-spark" class="headerlink" title="1.4 spark"></a>1.4 spark</h2><h3 id="版本选择-3"><a href="#版本选择-3" class="headerlink" title="版本选择"></a>版本选择</h3><blockquote>
<p>从官网下载的时候，记得选择对应的hadoop版本</p>
</blockquote>
<p>spark-2.2.1-bin-hadoop2.6</p>
<h3 id="文章参考-3"><a href="#文章参考-3" class="headerlink" title="文章参考"></a>文章参考</h3><blockquote>
<p>过于简单其实也没有参考什么文章。。</p>
</blockquote>
<p><a href="http://blog.csdn.net/leon_founder/article/details/78715831" target="_blank" rel="noopener">CentOS 7上安装Spark 2.2单机</a></p>
<h2 id="1-5-zeppelin"><a href="#1-5-zeppelin" class="headerlink" title="1.5 zeppelin"></a>1.5 zeppelin</h2><h3 id="版本选择-4"><a href="#版本选择-4" class="headerlink" title="版本选择"></a>版本选择</h3><blockquote>
<p>这里选择了附带所有interpreter的版本</p>
</blockquote>
<p>zeppelin最新版：zeppelin-0.7.3-bin-all</p>
<h3 id="文章参考-4"><a href="#文章参考-4" class="headerlink" title="文章参考"></a>文章参考</h3><p><a href="http://blog.csdn.net/u013013024/article/details/79082503" target="_blank" rel="noopener">CDH安装配置zeppelin-0.7.3以及配置spark查询hive表</a></p>
<h3 id="坑位介绍-3"><a href="#坑位介绍-3" class="headerlink" title="坑位介绍"></a>坑位介绍</h3><h4 id="💩-报出jackson版本问题"><a href="#💩-报出jackson版本问题" class="headerlink" title="💩 报出jackson版本问题"></a>💩 报出jackson版本问题</h4><ul>
<li>与之前的问题类似，立刻想到将包统一即可。</li>
</ul>
<h4 id="💩-无法初始化SessionHiveMetaStoreClient"><a href="#💩-无法初始化SessionHiveMetaStoreClient" class="headerlink" title="💩 无法初始化SessionHiveMetaStoreClient"></a>💩 无法初始化SessionHiveMetaStoreClient</h4><blockquote>
<p>由于配置hive之后，需要将hive-site.xml复制HADOOP_CONF_DIR一份，由于zeppelin（支持hive）也需要加载HADOOP_CONF_DIR目录，所以导致无法加载hive元数据，导致异常，此时启动hive的元数据服务在启动zeppelin即可。</p>
</blockquote>
<ul>
<li>拷贝hive-site.xml到$HADOOP_HOME/etc/hadoop</li>
</ul>
<h1 id="二、sklearn流派"><a href="#二、sklearn流派" class="headerlink" title="二、sklearn流派"></a>二、sklearn流派</h1><h2 id="2-1-anaconda与jupyter-猪币特"><a href="#2-1-anaconda与jupyter-猪币特" class="headerlink" title="2.1 anaconda与jupyter(猪币特)"></a>2.1 anaconda与jupyter(猪币特)</h2><h3 id="版本选择-5"><a href="#版本选择-5" class="headerlink" title="版本选择"></a>版本选择</h3><p>python3版本：Anaconda3-5.0.1-Linux-x86_64</p>
<h3 id="文章参考-5"><a href="#文章参考-5" class="headerlink" title="文章参考"></a>文章参考</h3><p><a href="http://blog.csdn.net/c13669463387/article/details/78436691" target="_blank" rel="noopener">在centos7服务器上安装anaconda和jupyter notebook</a></p>
<p><a href="http://blog.csdn.net/u010694764/article/details/76862854" target="_blank" rel="noopener">远程访问</a></p>
<h3 id="坑位介绍-4"><a href="#坑位介绍-4" class="headerlink" title="坑位介绍"></a>坑位介绍</h3><blockquote>
<p>此处应该有掌声，配置太简单了，与spark流派形成鲜明的对比。<br>没啥特别的坑位需要备忘，一切都水到渠成。</p>
</blockquote>
<h1 id="三、数据同步策略"><a href="#三、数据同步策略" class="headerlink" title="三、数据同步策略"></a>三、数据同步策略</h1><h2 id="3-1-sqoop同步策略"><a href="#3-1-sqoop同步策略" class="headerlink" title="3.1 sqoop同步策略"></a>3.1 sqoop同步策略</h2><p><img src="http://of71dfqgz.bkt.clouddn.com/15194416883439.jpg" alt=""></p>
<h3 id="具体sqoop同步示例"><a href="#具体sqoop同步示例" class="headerlink" title="具体sqoop同步示例"></a>具体sqoop同步示例</h3><blockquote>
<p>sqoop import -Dorg.apache.sqoop.splitter.allow_text_splitter=true –connect jdbc:mysql://xx.xx.xx.xx/数据库名?characterEncoding=utf-8 –username 数据库用户名 –password 数据库密码 –num-mappers 4 –table 源表名 –hive-import –hive-overwrite –hive-table hive表名 –split-by 切分字段（如果有主键默认使用主键）</p>
</blockquote>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><ul>
<li>同步速度真心快。（为什么会这么快呢？3000多万的表15分钟左右）</li>
<li>hive源数据放置在磁盘中，无需全部加载入内存再进行筛选处理。</li>
<li>似乎对于源数据库压力不大。</li>
<li>最终选定该方案。</li>
</ul>
<h2 id="3-2-mysql直接拉取csv"><a href="#3-2-mysql直接拉取csv" class="headerlink" title="3.2 mysql直接拉取csv"></a>3.2 mysql直接拉取csv</h2><blockquote>
<p>在sqoop环境起初搭建不顺利的背景下提出的备选方案。</p>
</blockquote>
<h3 id="同步示例"><a href="#同步示例" class="headerlink" title="同步示例"></a>同步示例</h3><blockquote>
<p>mysql -u数据库用户名 -p数据库密码 -hxx.xx.xx.xx 数据库名 -B -e “select * from `表名`;” | sed ‘s/\t/“,”/g;s/^/“/;s/$/“/;s/\n//g’ &gt; 导出的csv名</p>
</blockquote>
<h3 id="效果-1"><a href="#效果-1" class="headerlink" title="效果"></a>效果</h3><ul>
<li>同步速度较sqoop慢一些。（3000多万的表半个小时左右）</li>
<li>配置简单，只要网络通即可。</li>
<li>csv文件较大，直接用pandas读取的话，内存占用会暴涨。<ul>
<li>不过pandas的大数据集处理速度还是挺快的。</li>
</ul>
</li>
<li>小数据集场景灵活使用。</li>
</ul>
<h1 id="四、总结"><a href="#四、总结" class="headerlink" title="四、总结"></a>四、总结</h1><blockquote>
<p>经此一役，收获颇多，除了获取知识之外，也总结了几则六字真言，与君共勉。</p>
</blockquote>
<ul>
<li>多备份，少吃亏</li>
<li>多联想，勤记录</li>
<li>多虚拟，后物理</li>
<li>多尝试，不放弃</li>
</ul>
<h1 id="五、番外"><a href="#五、番外" class="headerlink" title="五、番外"></a>五、番外</h1><h2 id="CDH篇"><a href="#CDH篇" class="headerlink" title="CDH篇"></a>CDH篇</h2><ul>
<li>修改hostname hostnamectl set-hostname</li>
<li>配置hosts</li>
<li>创建用户hadoop adduser</li>
<li>passwd</li>
<li>配置visudo</li>
<li>reboot</li>
<li>切换至hadoop用户：<ul>
<li>ssh免密配置<ul>
<li>ssh-keygen -t rsa -P “”</li>
<li>cat id_rsa.pub &gt;&gt; authorized_keys</li>
<li>多服务器配置同步到master<ul>
<li>scp id_rsa.pub sophonmaster:/home/hadoop/.ssh/id_rsa.pub.s1</li>
<li>cat id_rsa.pub.s1 &gt;&gt; authorized_keys</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>root用户密码未知，新创建hadoop用户，配置对应密码<ul>
<li>visudo<ul>
<li>hadoop ALL=(root)NOPASSWD:ALL</li>
<li>wheel nopasswd放开</li>
</ul>
</li>
</ul>
</li>
<li>消除警告：<ul>
<li><img src="http://of71dfqgz.bkt.clouddn.com/15180588854980.jpg" alt=""></li>
<li>echo 0 &gt; /proc/sys/vm/swappiness</li>
<li>echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</li>
<li>echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</li>
</ul>
</li>
<li>关闭防火墙<ul>
<li>systemctl stop firewalld</li>
<li>systemctl disable firewalld</li>
<li>systemctl status firewalld</li>
</ul>
</li>
<li>关闭SELinux(centos7 默认关闭)<ul>
<li>/etc/selinux/config</li>
</ul>
</li>
<li>常规CDH安装方式：<ul>
<li>将cloudera-manager.repo文件拷贝到所有节点的/etc/yum.repos.d/文件夹下</li>
<li>验证repo文件是否起效<ul>
<li>yum list|grep cloudera</li>
<li>如果列出的不是你安装的版本，执行下面命令重试</li>
<li>yum clean all</li>
<li>yum list | grep cloudera</li>
</ul>
</li>
<li>将之前下载的rpms文件拷贝到所有节点下（任意目录）<ul>
<li>切换到rpms目录下，执行</li>
<li>yum -y install *.rpm</li>
</ul>
</li>
<li>将之前下载的Parcel那3个文件拷贝到/opt/cloudera/parcel-repo目录下（如果没有该目录，请自行创建）<ul>
<li>至此，/opt/cloudera/parcel-repo下面有三个文件： CDH-5.2.0-1.cdh5.2.0.p0.36-el6.parcel,mainfest.json,CDH-5.2.0-1.cdh5.2.0.p0.36-el6.parcel.sha</li>
</ul>
</li>
<li>主节点启动manager安装：<ul>
<li>sudo chmod +x ./cloudera-manager-installer.bin</li>
<li>./cloudera-manager-installer.bin</li>
</ul>
</li>
<li>删除已经存在的db.properties<ul>
<li>mv /etc/cloudera-scm-server/db.properties /etc/cloudera-scm-server/db.properties.bak</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Writing</a></li>
         
          <li><a href="/categories">categories</a></li>
         
          <li><a href="https://github.com/AliThink">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#一、spark流派"><span class="toc-number">1.</span> <span class="toc-text">一、spark流派</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-hadoop"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 hadoop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择"><span class="toc-number">1.1.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考"><span class="toc-number">1.1.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍"><span class="toc-number">1.1.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-jps发现竟然木有DataNode"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">💩 jps发现竟然木有DataNode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-各种Permission-denied"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">💩 各种Permission denied</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-没有SecondaryNode了"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">💩 没有SecondaryNode了</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-hive"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 hive</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-1"><span class="toc-number">1.2.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-1"><span class="toc-number">1.2.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-启动时各种缺表"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">💩 启动时各种缺表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-如何重启hive-metastore"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">💩 如何重启hive metastore</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-sqoop"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 sqoop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-2"><span class="toc-number">1.3.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-2"><span class="toc-number">1.3.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-发现总是Connection-Failure"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">💩 发现总是Connection Failure</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出jackson-databind缺少某某方法"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">💩 报出jackson databind缺少某某方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出hive-version与metastore-version不一致"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">💩 报出hive version与metastore version不一致</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-导入hive报错HIVE-CONF-DIR"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">💩 导入hive报错HIVE_CONF_DIR</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-spark"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 spark</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-3"><span class="toc-number">1.4.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-3"><span class="toc-number">1.4.2.</span> <span class="toc-text">文章参考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-zeppelin"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 zeppelin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-4"><span class="toc-number">1.5.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-4"><span class="toc-number">1.5.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-3"><span class="toc-number">1.5.3.</span> <span class="toc-text">坑位介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-报出jackson版本问题"><span class="toc-number">1.5.3.1.</span> <span class="toc-text">💩 报出jackson版本问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#💩-无法初始化SessionHiveMetaStoreClient"><span class="toc-number">1.5.3.2.</span> <span class="toc-text">💩 无法初始化SessionHiveMetaStoreClient</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#二、sklearn流派"><span class="toc-number">2.</span> <span class="toc-text">二、sklearn流派</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-anaconda与jupyter-猪币特"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 anaconda与jupyter(猪币特)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#版本选择-5"><span class="toc-number">2.1.1.</span> <span class="toc-text">版本选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文章参考-5"><span class="toc-number">2.1.2.</span> <span class="toc-text">文章参考</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#坑位介绍-4"><span class="toc-number">2.1.3.</span> <span class="toc-text">坑位介绍</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#三、数据同步策略"><span class="toc-number">3.</span> <span class="toc-text">三、数据同步策略</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-sqoop同步策略"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 sqoop同步策略</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#具体sqoop同步示例"><span class="toc-number">3.1.1.</span> <span class="toc-text">具体sqoop同步示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果"><span class="toc-number">3.1.2.</span> <span class="toc-text">效果</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-mysql直接拉取csv"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 mysql直接拉取csv</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#同步示例"><span class="toc-number">3.2.1.</span> <span class="toc-text">同步示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果-1"><span class="toc-number">3.2.2.</span> <span class="toc-text">效果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#四、总结"><span class="toc-number">4.</span> <span class="toc-text">四、总结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#五、番外"><span class="toc-number">5.</span> <span class="toc-text">五、番外</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CDH篇"><span class="toc-number">5.1.</span> <span class="toc-text">CDH篇</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=/2018/02/24/智子环境搭建历程/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=/2018/02/24/智子环境搭建历程/&text=智子环境搭建历程"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=/2018/02/24/智子环境搭建历程/&is_video=false&description=智子环境搭建历程"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=智子环境搭建历程&body=Check out this article: /2018/02/24/智子环境搭建历程/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=/2018/02/24/智子环境搭建历程/&title=智子环境搭建历程"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=/2018/02/24/智子环境搭建历程/&name=智子环境搭建历程&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 AliThink
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about">About</a></li>
         
          <li><a href="/archives">Writing</a></li>
         
          <li><a href="/categories">categories</a></li>
         
          <li><a href="https://github.com/AliThink">Projects</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

<!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?ddd5ea8fb6af25af228cf11a240076e8";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->


